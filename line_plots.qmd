---
title: "line_plots"
format: html
editor: visual
---

### Import libraries

```{r}
library(tidyverse)
library(here)
library(purrr)

```

### Read in files, use a for loop to assign csv files to their named dataframes

```{r}

#setwd("csv_files") 
fs <- list.files()

amino_acids <- str_remove(fs, ".csv") 
#read in all csv files in csv_files folder
dfs <- lapply(fs, read_csv) 

## assign .csv filenames to their corresponding dataframe
names(dfs) <- amino_acids; list2env(dfs, envir = .GlobalEnv) 

```

### Clean data - remove unneeded columns

```{r}

## removing unused columns across the list
cleaned <- lapply(dfs, function(x) x |> select_if(~ any(.x == c("Affinity (tot)", "pH", "Temperature"))) |> 
                    select(1,3,4) |> 
                    rename(temp = 1, affinity = 2, ph = 3) |> 
                    mutate(keep = if_else((is.na(affinity) & is.na(ph)), FALSE, TRUE)) |> 
                    filter(across(everything(), 
                                  ~ !str_detect(., 
                                               c('Affinity (tot)', 'Temperature', 'pH')))) |> 
                    filter(keep == TRUE) |> 
                    slice(2:85) |> 
                    select(temp, affinity, ph))
                    
  
                    
                  
                            
                            
                    
  
                    

## Saving the names back to their variable assignments
names(cleaned) <- amino_acids; list2env(cleaned, envir = .GlobalEnv) 


##mutate to make a new column that returns NA when column b is not the condition that we're interested in- use - if_else(str_detect(affinity, "activity"), affinity, NA)

# use fill down - take non NA to fill NA below 
```

```{r}
```

### Clean data 2 - remove shallow rock and other unused rows

### Clean data 3 - split into 4 different data frames

### Clean data 4 - rename columns
